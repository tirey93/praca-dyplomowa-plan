<title mat-dialog-title>Utworzenie Nowego Budynku</title>
<mat-dialog-content>
    <p class="dialog-description">
        Tutaj możesz stworzyć nowy budynek. <br>Po utworzeniu pojawi się on na liście wyboru budynków.
    </p>
    <form [formGroup]="buildingForm">
        <mat-form-field appearance="outline" style="width: 120px;">
            <mat-label>Nazwa</mat-label>
            <input required type="text" matInput formControlName="name">
            <mat-error *ngIf="buildingForm.get('name')?.invalid && buildingForm.get('name')?.touched">
                <span *ngIf="buildingForm.get('name')?.hasError('required')">Podaj nazwę budynku.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field 
            matTooltip="Podaj link do map, aby można było łatwo odnaleźć budynek, który tworzysz."
            style="margin-left: 20px; width: 420px;" 
            appearance="outline">
            <mat-label>Link</mat-label>
            <input required type="text" matInput formControlName="link">
            <mat-error *ngIf="buildingForm.get('link')?.invalid && buildingForm.get('link')?.touched">
                <span *ngIf="buildingForm.get('link')?.hasError('required')">Podaj link do budynku.</span>
                <span *ngIf="buildingForm.get('link')?.hasError('pattern')">Link posiada nieprawidłowy format</span>
            </mat-error>
        </mat-form-field>
    </form>
    <mat-dialog-actions>
        <button mat-raised-button type="button" (click)="onNoClick()">Anuluj</button>
        <div style="margin-left: 15px;" [matTooltip]="buildingForm.invalid ? 'Należy podać wszystkie wymagane pola.' : ''">
            <button 
                mat-flat-button
                type="submit" 
                cdkFocusInitial
                [disabled]="buildingForm.invalid"
                (click)="submit()">Utwórz
            </button>
        </div>
    </mat-dialog-actions>
</mat-dialog-content>
