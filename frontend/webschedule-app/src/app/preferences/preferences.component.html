<title mat-dialog-title>Zmień dane użytkownika</title>
<mat-dialog-content style="max-width: min-content;" (click)="test()">
    <mat-tab-group>
        <form [formGroup]="prefForm">
            <mat-tab label="Login">
                <mat-form-field style="margin-top: 20px;" appearance="outline" class="dialog-full-width">
                    <mat-label>Login</mat-label>
                    <input required type="text" matInput formControlName="login" placeholder="{{defaultLogin}}">
                </mat-form-field>
            </mat-tab>
            <mat-tab label="Nazwa">
                <mat-form-field style="margin-top: 20px;" appearance="outline" class="dialog-full-width">
                    <mat-label>Nazwa</mat-label>
                    <input required type="text" matInput formControlName="displayName" placeholder="{{defaultDisplayName}}">
                </mat-form-field>
            </mat-tab>
            <mat-tab  class="form-container" label="Hasło"> 
                <div>
                    <mat-form-field style="margin-top: 20px;" appearance="outline" class="dialog-full-width">
                        <mat-label>Nowe hasło</mat-label>
                        <input required formControlName="newPassword" type="password" matInput>
                        <mat-error *ngIf="prefForm.get('newPassword')?.errors?.['required']">Hasło jest wymagane</mat-error>
                        <mat-error *ngIf="prefForm.get('newPassword')?.errors?.['minlength']">
                            Hasło musi mieć co najmniej 8 znaków
                        </mat-error>
                        <mat-error *ngIf="prefForm.get('newPassword')?.errors?.['passwordStrength']">
                            Hasło musi zawieraćco najmniej jedną wielką literę, małą literę, cyfrę i znak specjalny
                        </mat-error>
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field style="margin-top: 20px;" appearance="outline" class="dialog-full-width">
                        <mat-label>Powtórz hasło</mat-label>
                        <input formControlName="repeatPassword" type="password" matInput>
                          <mat-error>
                            Hasła nie są identyczne
                        </mat-error>
                    </mat-form-field> 
                </div> 
            </mat-tab>
        </form>
    </mat-tab-group>
    <mat-dialog-actions>
        <div style="margin-left: 15px;" [matTooltip]="prefForm.invalid ? 'Należy podać wszystkie wymagane pola.' : ''">
            <button 
                mat-flat-button
                type="submit" 
                cdkFocusInitial
                [disabled]="prefForm.invalid"
                (click)="submit()">Zapisz
            </button>
        </div>
    </mat-dialog-actions>
</mat-dialog-content>